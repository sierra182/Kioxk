
<div style="background-color:@colorday;border-color:@borderColor">
    @if (Selected ?? false || UnSelectable is not null)
    {
        <span style="color: white">@DateTime.Day</span>
    }
</div>

@code {

    [Parameter]
    public DateTime DateTime { get; set; }
    [Parameter]
    public EventCallback<DateTime> DateTimeChanged { get; set; }
    [Parameter]
    public bool? UnSelectable { get; set; }
    [Parameter]
    public EventCallback<bool?> UnSelectableChanged { get; set; }
    [Parameter]
    public bool? Selected { get; set; }
    [Parameter]
    public EventCallback<bool?> SelectedChanged { get; set; }
    [Parameter]
    public bool?[]? Seasons { get; set; }
    [Parameter]
    public EventCallback<bool?[]> SeasonsChanged { get; set; }

    string? colorday;
    string? borderColor;

    protected override void OnParametersSet()
    {
        colorday = "mediumspringgreen";
        borderColor = "mediumspringgreen";

        if (Selected ?? false)
        {
            colorday = "#0081CF";                               // Selectionné
            borderColor = "#0081CF";
        }
        else
        {
            if (Seasons is not null)
            {
                if (Seasons[0] is true)
                    colorday = "violet";

                if (Seasons[1] is true)
                    colorday = "darkmagenta";
            }
          
            if (UnSelectable is true)
            {
                colorday = "#FF4B2B";                        // Impossible
                borderColor = "#FF4B2B";
            }
        }
        if (DateTime.Now.Date == DateTime)
        {                                                                // Met en évidence le jour actuel.
            colorday = "orange";
            borderColor = "orange";
        }
        if (UnSelectable is null)
        {
            colorday = "transparent";
            borderColor = "white";
        }
    }

}
